Introduction
------------

This is a simple JIT compiler for Java built on top of JamVM.


How can I try it out
--------------------

You need git to download jamvm-sources. To compile jit-jamvm and run the
unit tests, follow these instructions:

  1. Download jit-jamvm sources the first time:
  
    % git clone http://www.laughingpanda.org/~penberg/pub/scm/jit-jamvm.git jit-jamvm

  2. Compile monoburg (you need glib and bison installed on your system)

    % cd jit-jamvm/monoburg/
    % make

  3. Compile jit-jamvm and run unit tests:

    % cd ../test/jit/
    % make


Development
-----------

If you use git for development, please remember to add your committer name
and email to .git/config file.  The format is as follows:

  [user]
    name = Pekka Enberg
    email = penberg@cs.helsinki.fi


How to run the acceptance test?
-------------------------------

Prequisites:

  - Jikes Compiler
  - GNU classpath (installed in /usr/local/classpath/)

To run the tests, execute the following commands:

  cd lib
  make
  cd ../monoburg
  make
  cd ../jato
  make
  cd ../acceptance
  sh run-acceptance-tests.sh


How to launch Java applications with Jato under GDB?
----------------------------------------------------

NTPL threads cause problems while running Jato under gdb. You should
set the following environment variable before starting the debugger:

  export LD_ASSUME_KERNEL=2.4.1

To set up boot classpath for Jato, set the following environment variable:

  export BOOTCLASSPATH=<JATO_ROOT>/lib/classes.zip:/usr/local/classpath/share/classpath/glibj.zip

Finally, to launch a Java application with Jato under gdb:

  gdb --args <JATO_ROOT>/jato/jato <class>


License
-------

This JIT compiler is

  Copyright (C) 2005-2006  Pekka Enberg

  This program is free software; you can redistribute it and/or modify
  it under the terms of the GNU General Public License version 2 as
  published by the Free Software Foundation.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with this program; if not, write to the Free Software
  Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA


Acknowledgements
----------------

My work on this JIT compiler has been partially sponsored by
Reaktor Innovations Oy. Thank you!
